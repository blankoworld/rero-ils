<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="1414pt" height="549pt"
 viewBox="0.00 0.00 1414.27 549.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 545)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-545 1410.27,-545 1410.27,4 -4,4"/>
<text text-anchor="middle" x="703.14" y="-525.8" font-family="Times,serif" font-size="14.00">Circulation state diagram</text>
<g id="clust1" class="cluster">
<title>cluster_main</title>
<polygon fill="none" stroke="black" points="253.5,-29 253.5,-245 1289.27,-245 1289.27,-29 253.5,-29"/>
</g>
<g id="clust2" class="cluster">
<title>cluster_0</title>
<polygon fill="none" stroke="gray" points="261.5,-37 261.5,-194 1049.27,-194 1049.27,-37 261.5,-37"/>
</g>
<g id="clust6" class="cluster">
<title>cluster_legend</title>
<polygon fill="none" stroke="black" points="8,-253 8,-510 455,-510 455,-253 8,-253"/>
<text text-anchor="middle" x="231.5" y="-494.8" font-family="Times,serif" font-size="14.00">Legend</text>
</g>
<!-- CREATED -->
<g id="node1" class="node">
<title>CREATED</title>
<ellipse fill="black" stroke="black" cx="53" cy="-33" rx="18" ry="18"/>
<text text-anchor="middle" x="17.5" y="-3.8" font-family="Times,serif" font-size="14.00">Loan</text>
</g>
<!-- PENDING -->
<g id="node2" class="node">
<title>PENDING</title>
<polygon fill="#ffb3ba" stroke="transparent" points="358.5,-113 269.5,-113 269.5,-77 358.5,-77 358.5,-113"/>
<text text-anchor="middle" x="314" y="-91.3" font-family="Times,serif" font-size="14.00">PENDING</text>
</g>
<!-- CREATED&#45;&gt;PENDING -->
<g id="edge12" class="edge">
<title>CREATED&#45;&gt;PENDING</title>
<path fill="none" stroke="black" d="M70.6,-36.97C107.96,-45.92 200.03,-67.96 259.34,-82.15"/>
<polygon fill="black" stroke="black" points="258.75,-85.61 269.29,-84.54 260.38,-78.8 258.75,-85.61"/>
<text text-anchor="middle" x="135.5" y="-61.8" font-family="Times,serif" font-size="14.00">request</text>
</g>
<!-- ITEM_ON_LOAN -->
<g id="node5" class="node">
<title>ITEM_ON_LOAN</title>
<path fill="none" stroke="black" d="M1029.27,-153C1029.27,-153 919.27,-153 919.27,-153 913.27,-153 907.27,-147 907.27,-141 907.27,-141 907.27,-129 907.27,-129 907.27,-123 913.27,-117 919.27,-117 919.27,-117 1029.27,-117 1029.27,-117 1035.27,-117 1041.27,-123 1041.27,-129 1041.27,-129 1041.27,-141 1041.27,-141 1041.27,-147 1035.27,-153 1029.27,-153"/>
<text text-anchor="middle" x="974.27" y="-131.3" font-family="Times,serif" font-size="14.00">ITEM_ON_LOAN</text>
</g>
<!-- CREATED&#45;&gt;ITEM_ON_LOAN -->
<g id="edge13" class="edge">
<title>CREATED&#45;&gt;ITEM_ON_LOAN</title>
<path fill="none" stroke="black" d="M71.04,-30.25C153.63,-17.5 520.07,32.4 807.27,-36 856.41,-47.7 865.93,-60.98 907.27,-90 917.19,-96.96 928.03,-104.42 938.01,-111.21"/>
<polygon fill="black" stroke="black" points="936.27,-114.26 946.5,-116.99 940.2,-108.47 936.27,-114.26"/>
<text text-anchor="middle" x="523.5" y="-8.8" font-family="Times,serif" font-size="14.00">checkout</text>
</g>
<!-- ITEM_AT_DESK -->
<g id="node3" class="node">
<title>ITEM_AT_DESK</title>
<polygon fill="#ffdfba" stroke="transparent" points="807.41,-68.56 703.64,-81 599.86,-68.56 599.96,-48.44 807.31,-48.44 807.41,-68.56"/>
<text text-anchor="middle" x="703.64" y="-59.3" font-family="Times,serif" font-size="14.00">ITEM_AT_DESK</text>
</g>
<!-- PENDING&#45;&gt;ITEM_AT_DESK -->
<g id="edge2" class="edge">
<title>PENDING&#45;&gt;ITEM_AT_DESK</title>
<path fill="none" stroke="green" d="M358.62,-90.31C388.53,-87.17 429.15,-83.07 465,-80 507.73,-76.34 554.84,-72.85 595.76,-70"/>
<polygon fill="green" stroke="green" points="596.02,-73.49 605.76,-69.31 595.54,-66.51 596.02,-73.49"/>
<text text-anchor="middle" x="523.5" y="-83.8" font-family="Times,serif" font-size="14.00" fill="green">validate</text>
</g>
<!-- ITEM_IN_TRANSIT -->
<g id="node4" class="node">
<title>ITEM_IN_TRANSIT</title>
<path fill="none" stroke="black" d="M767.64,-186C767.64,-186 639.64,-186 639.64,-186 633.64,-186 627.64,-180 627.64,-174 627.64,-174 627.64,-162 627.64,-162 627.64,-156 633.64,-150 639.64,-150 639.64,-150 767.64,-150 767.64,-150 773.64,-150 779.64,-156 779.64,-162 779.64,-162 779.64,-174 779.64,-174 779.64,-180 773.64,-186 767.64,-186"/>
<text text-anchor="middle" x="703.64" y="-164.3" font-family="Times,serif" font-size="14.00">ITEM_IN_TRANSIT</text>
</g>
<!-- PENDING&#45;&gt;ITEM_IN_TRANSIT -->
<g id="edge3" class="edge">
<title>PENDING&#45;&gt;ITEM_IN_TRANSIT</title>
<path fill="none" stroke="blue" d="M358.61,-103.94C388.52,-110.02 429.13,-118.17 465,-125 515.45,-134.61 572.02,-144.87 617.31,-152.95"/>
<polygon fill="blue" stroke="blue" points="616.93,-156.44 627.38,-154.75 618.15,-149.55 616.93,-156.44"/>
<text text-anchor="middle" x="523.5" y="-149.8" font-family="Times,serif" font-size="14.00" fill="blue">validate</text>
</g>
<!-- PENDING&#45;&gt;ITEM_ON_LOAN -->
<g id="edge1" class="edge">
<title>PENDING&#45;&gt;ITEM_ON_LOAN</title>
<path fill="none" stroke="black" d="M358.52,-101.98C388.4,-106.48 429,-112.03 465,-115 616.68,-127.52 655.21,-119.44 807.27,-126 836.55,-127.26 868.71,-128.94 896.87,-130.5"/>
<polygon fill="black" stroke="black" points="896.87,-134.01 907.05,-131.07 897.26,-127.02 896.87,-134.01"/>
<text text-anchor="middle" x="703.64" y="-129.8" font-family="Times,serif" font-size="14.00">checkout</text>
</g>
<!-- ITEM_AT_DESK&#45;&gt;ITEM_ON_LOAN -->
<g id="edge4" class="edge">
<title>ITEM_AT_DESK&#45;&gt;ITEM_ON_LOAN</title>
<path fill="none" stroke="black" d="M777.52,-72.25C811.9,-77.66 853.19,-85.7 889.27,-97 902.54,-101.15 916.47,-106.86 929.09,-112.6"/>
<polygon fill="black" stroke="black" points="927.91,-115.91 938.46,-116.96 930.87,-109.56 927.91,-115.91"/>
<text text-anchor="middle" x="857.27" y="-100.8" font-family="Times,serif" font-size="14.00">checkout</text>
</g>
<!-- ITEM_IN_TRANSIT&#45;&gt;ITEM_AT_DESK -->
<g id="edge10" class="edge">
<title>ITEM_IN_TRANSIT&#45;&gt;ITEM_AT_DESK</title>
<path fill="none" stroke="black" d="M627.54,-166.12C552.48,-161.55 454.43,-146.56 495,-98.5 518.24,-70.98 554.27,-59.33 589.89,-55.43"/>
<polygon fill="black" stroke="black" points="590.27,-58.91 599.92,-54.53 589.65,-51.94 590.27,-58.91"/>
<text text-anchor="start" x="465" y="-102.3" font-family="Times,serif" font-size="14.00">delivery_receive</text>
</g>
<!-- ITEM_RETURNED -->
<g id="node6" class="node">
<title>ITEM_RETURNED</title>
<path fill="none" stroke="black" d="M1269.27,-207C1269.27,-207 1144.27,-207 1144.27,-207 1138.27,-207 1132.27,-201 1132.27,-195 1132.27,-195 1132.27,-183 1132.27,-183 1132.27,-177 1138.27,-171 1144.27,-171 1144.27,-171 1269.27,-171 1269.27,-171 1275.27,-171 1281.27,-177 1281.27,-183 1281.27,-183 1281.27,-195 1281.27,-195 1281.27,-201 1275.27,-207 1269.27,-207"/>
<text text-anchor="middle" x="1206.77" y="-185.3" font-family="Times,serif" font-size="14.00">ITEM_RETURNED</text>
</g>
<!-- ITEM_IN_TRANSIT&#45;&gt;ITEM_RETURNED -->
<g id="edge11" class="edge">
<title>ITEM_IN_TRANSIT&#45;&gt;ITEM_RETURNED</title>
<path fill="none" stroke="black" d="M779.94,-180.45C817.99,-186.12 864.95,-192.19 907.27,-195 970.24,-199.18 986.17,-196.21 1049.27,-195 1072.83,-194.55 1098.38,-193.71 1121.87,-192.81"/>
<polygon fill="black" stroke="black" points="1122.29,-196.3 1132.14,-192.4 1122.01,-189.3 1122.29,-196.3"/>
<text text-anchor="middle" x="974.27" y="-200.8" font-family="Times,serif" font-size="14.00">house_receive</text>
</g>
<!-- ITEM_ON_LOAN&#45;&gt;ITEM_IN_TRANSIT -->
<g id="edge5" class="edge">
<title>ITEM_ON_LOAN&#45;&gt;ITEM_IN_TRANSIT</title>
<path fill="none" stroke="violet" d="M907.26,-141.02C881.63,-143.53 852.05,-146.65 825.27,-150 813.78,-151.44 801.69,-153.08 789.79,-154.78"/>
<polygon fill="violet" stroke="violet" points="789.25,-151.32 779.85,-156.22 790.25,-158.25 789.25,-151.32"/>
<text text-anchor="middle" x="857.27" y="-153.8" font-family="Times,serif" font-size="14.00" fill="violet">checkin</text>
</g>
<!-- ITEM_ON_LOAN&#45;&gt;ITEM_ON_LOAN -->
<g id="edge6" class="edge">
<title>ITEM_ON_LOAN&#45;&gt;ITEM_ON_LOAN</title>
<path fill="none" stroke="black" d="M954.01,-153.15C950.89,-162.54 957.65,-171 974.27,-171 984.4,-171 990.87,-167.86 993.67,-163.28"/>
<polygon fill="black" stroke="black" points="997.17,-163.41 994.53,-153.15 990.19,-162.82 997.17,-163.41"/>
<text text-anchor="middle" x="974.27" y="-174.8" font-family="Times,serif" font-size="14.00">extend</text>
</g>
<!-- ITEM_ON_LOAN&#45;&gt;ITEM_RETURNED -->
<g id="edge9" class="edge">
<title>ITEM_ON_LOAN&#45;&gt;ITEM_RETURNED</title>
<path fill="none" stroke="orange" d="M1041.32,-150.47C1066.45,-156.36 1095.41,-163.15 1121.97,-169.37"/>
<polygon fill="orange" stroke="orange" points="1121.48,-172.85 1132.02,-171.72 1123.08,-166.03 1121.48,-172.85"/>
<text text-anchor="middle" x="1086.77" y="-169.8" font-family="Times,serif" font-size="14.00" fill="orange">checkin</text>
</g>
<!-- CANCELLED -->
<g id="node7" class="node">
<title>CANCELLED</title>
<polygon fill="#ffb3ba" stroke="transparent" points="1261.77,-153 1151.77,-153 1151.77,-117 1261.77,-117 1261.77,-153"/>
<text text-anchor="middle" x="1206.77" y="-131.3" font-family="Times,serif" font-size="14.00">CANCELLED</text>
</g>
<!-- ITEM_ON_LOAN&#45;&gt;CANCELLED -->
<g id="edge16" class="edge">
<title>ITEM_ON_LOAN&#45;&gt;CANCELLED</title>
<path fill="none" stroke="gray" d="M1049.27,-135C1078.93,-135 1112.79,-135 1141.41,-135"/>
<polygon fill="gray" stroke="gray" points="1141.74,-138.5 1151.74,-135 1141.74,-131.5 1141.74,-138.5"/>
</g>
<!-- DISPUTED -->
<g id="node8" class="node">
<title>DISPUTED</title>
<path fill="none" stroke="black" d="M1009.77,-81C1009.77,-81 938.77,-81 938.77,-81 932.77,-81 926.77,-75 926.77,-69 926.77,-69 926.77,-57 926.77,-57 926.77,-51 932.77,-45 938.77,-45 938.77,-45 1009.77,-45 1009.77,-45 1015.77,-45 1021.77,-51 1021.77,-57 1021.77,-57 1021.77,-69 1021.77,-69 1021.77,-75 1015.77,-81 1009.77,-81"/>
<text text-anchor="middle" x="974.27" y="-59.3" font-family="Times,serif" font-size="14.00">DISPUTED</text>
</g>
<!-- ITEM_ON_LOAN&#45;&gt;DISPUTED -->
<g id="edge7" class="edge">
<title>ITEM_ON_LOAN&#45;&gt;DISPUTED</title>
<path fill="none" stroke="black" d="M1001.03,-116.95C1010.11,-107.76 1012.21,-98.56 1007.34,-89.36"/>
<polygon fill="black" stroke="black" points="1010.07,-87.17 1001.27,-81.28 1004.48,-91.38 1010.07,-87.17"/>
</g>
<!-- DELETED -->
<g id="node9" class="node">
<title>DELETED</title>
<ellipse fill="black" stroke="black" cx="1384.27" cy="-164" rx="18" ry="18"/>
<ellipse fill="none" stroke="black" cx="1384.27" cy="-164" rx="22" ry="22"/>
</g>
<!-- ITEM_RETURNED&#45;&gt;DELETED -->
<g id="edge14" class="edge">
<title>ITEM_RETURNED&#45;&gt;DELETED</title>
<path fill="none" stroke="black" d="M1281.44,-178.51C1306.24,-174.97 1332.59,-171.22 1352.27,-168.42"/>
<polygon fill="black" stroke="black" points="1352.78,-171.88 1362.19,-167 1351.8,-164.95 1352.78,-171.88"/>
<text text-anchor="middle" x="1321.77" y="-178.8" font-family="Times,serif" font-size="14.00">delete</text>
</g>
<!-- CANCELLED&#45;&gt;DELETED -->
<g id="edge15" class="edge">
<title>CANCELLED&#45;&gt;DELETED</title>
<path fill="none" stroke="black" d="M1262.01,-138.78C1287.22,-141.2 1317.49,-145.03 1344.27,-151 1347.31,-151.68 1350.44,-152.5 1353.55,-153.4"/>
<polygon fill="black" stroke="black" points="1352.66,-156.79 1363.25,-156.45 1354.76,-150.11 1352.66,-156.79"/>
<text text-anchor="middle" x="1321.77" y="-154.8" font-family="Times,serif" font-size="14.00">delete</text>
</g>
<!-- DISPUTED&#45;&gt;ITEM_ON_LOAN -->
<g id="edge8" class="edge">
<title>DISPUTED&#45;&gt;ITEM_ON_LOAN</title>
<path fill="none" stroke="black" d="M947.28,-81.28C938.32,-90.48 936.33,-99.67 941.32,-108.87"/>
<polygon fill="black" stroke="black" points="938.65,-111.14 947.51,-116.95 944.21,-106.88 938.65,-111.14"/>
</g>
<!-- Green -->
<g id="node10" class="node">
<title>Green</title>
<text text-anchor="middle" x="53" y="-457.3" font-family="Times,serif" font-size="14.00" fill="green">validate</text>
</g>
<!-- Green2 -->
<g id="node11" class="node">
<title>Green2</title>
<text text-anchor="middle" x="314" y="-457.3" font-family="Times,serif" font-size="14.00">item library = pickup library</text>
</g>
<!-- Green&#45;&gt;Green2 -->
<g id="edge17" class="edge">
<title>Green&#45;&gt;Green2</title>
<path fill="none" stroke="green" d="M90.01,-461C116.82,-461 155.07,-461 192.34,-461"/>
<polygon fill="green" stroke="green" points="192.82,-464.5 202.82,-461 192.82,-457.5 192.82,-464.5"/>
</g>
<!-- Blue -->
<g id="node12" class="node">
<title>Blue</title>
<text text-anchor="middle" x="53" y="-403.3" font-family="Times,serif" font-size="14.00" fill="blue">validate</text>
</g>
<!-- Blue2 -->
<g id="node13" class="node">
<title>Blue2</title>
<text text-anchor="middle" x="314" y="-403.3" font-family="Times,serif" font-size="14.00">item library != pickup library</text>
</g>
<!-- Blue&#45;&gt;Blue2 -->
<g id="edge18" class="edge">
<title>Blue&#45;&gt;Blue2</title>
<path fill="none" stroke="blue" d="M90.01,-407C116.19,-407 153.27,-407 189.69,-407"/>
<polygon fill="blue" stroke="blue" points="189.94,-410.5 199.94,-407 189.94,-403.5 189.94,-410.5"/>
</g>
<!-- Violet -->
<g id="node14" class="node">
<title>Violet</title>
<text text-anchor="middle" x="53" y="-348.3" font-family="Times,serif" font-size="14.00" fill="violet">checkin</text>
</g>
<!-- Violet2 -->
<g id="node15" class="node">
<title>Violet2</title>
<text text-anchor="start" x="220.5" y="-355.8" font-family="Times,serif" font-size="14.00">no other pending loan &amp;&amp;</text>
<text text-anchor="start" x="189" y="-340.8" font-family="Times,serif" font-size="14.00"> item library != transaction library</text>
</g>
<!-- Violet&#45;&gt;Violet2 -->
<g id="edge19" class="edge">
<title>Violet&#45;&gt;Violet2</title>
<path fill="none" stroke="violet" d="M88.66,-352C110.33,-352 139.85,-352 170.35,-352"/>
<polygon fill="violet" stroke="violet" points="170.72,-355.5 180.72,-352 170.72,-348.5 170.72,-355.5"/>
</g>
<!-- Orange -->
<g id="node16" class="node">
<title>Orange</title>
<text text-anchor="middle" x="53" y="-284.3" font-family="Times,serif" font-size="14.00" fill="orange">checkin</text>
</g>
<!-- Orange2 -->
<g id="node17" class="node">
<title>Orange2</title>
<text text-anchor="start" x="233" y="-299.3" font-family="Times,serif" font-size="14.00">other pending loan OR</text>
<text text-anchor="start" x="215.5" y="-284.3" font-family="Times,serif" font-size="14.00"> (no other pending loan &amp;&amp;</text>
<text text-anchor="start" x="189" y="-269.3" font-family="Times,serif" font-size="14.00"> item library = transaction library)</text>
</g>
<!-- Orange&#45;&gt;Orange2 -->
<g id="edge20" class="edge">
<title>Orange&#45;&gt;Orange2</title>
<path fill="none" stroke="orange" d="M88.66,-288C110.33,-288 139.85,-288 170.35,-288"/>
<polygon fill="orange" stroke="orange" points="170.72,-291.5 180.72,-288 170.72,-284.5 170.72,-291.5"/>
</g>
</g>
</svg>
